(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{69:function(e,r,n){"use strict";n.r(r),n.d(r,"frontMatter",(function(){return s})),n.d(r,"metadata",(function(){return c})),n.d(r,"rightToc",(function(){return i})),n.d(r,"default",(function(){return p}));var t=n(2),o=n(6),a=(n(0),n(92)),s={id:"flows.errors",title:"Error handling",sidebar_label:"Error handling",slug:"/flows/errors"},c={unversionedId:"flows.errors",id:"flows.errors",isDocsHomePage:!1,title:"Error handling",description:"Unexpected errors could happen.",source:"@site/docs/flows-error-handling.md",slug:"/flows/errors",permalink:"/semaphore/docs/flows/errors",editUrl:"https://github.com/jexia/semaphore/edit/master/website/docs/flows-error-handling.md",version:"current",sidebar_label:"Error handling",sidebar:"docs",previous:{title:"Service Requests",permalink:"/semaphore/docs/flows/requests"},next:{title:"Proxy Forwarding",permalink:"/semaphore/docs/flows/proxy"}},i=[],l={rightToc:i};function p(e){var r=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(t.a)({},l,n,{components:r,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Unexpected errors could happen.\nCustom error messages, status codes and response objects could be defined inside your flows.\nThese objects could reference properties and be overriden with constant values.\nError handling consists out of two blocks."),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"error")," which defines the custom response object.\nThese objects are returned to the user if the protocol allows for dynamic error objects (such as ",Object(a.b)("inlineCode",{parentName:"p"},"HTTP"),").\nIn case when no dynamic error objects could be returned are the error message and status code used."),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"on_error")," allows for the definitions of parameters (params) and to override the message and status properties.\nOptionally could a schema be defined. This schema is used to decode the received message.\nThe default error properties (message and status), error params and other resources could be referenced inside the ",Object(a.b)("inlineCode",{parentName:"p"},"on_error")," and error blocks."),Object(a.b)("p",null,"Check out the ",Object(a.b)("a",Object(t.a)({parentName:"p"},{href:"https://github.com/jexia/semaphore/tree/master/examples/error-handling"}),"errors example")," for a more hands on approach on how to define custom errors."),Object(a.b)("pre",null,Object(a.b)("code",Object(t.a)({parentName:"pre"},{className:"language-hcl"}),'error "com.Schema" {\n    message "meta" {\n        status = "{{ error:status }}"\n    }\n\n    message = "{{ error:message }}"\n}\n\nflow "greeter" {\n    # copies the global error object if not set\n\n    resource "echo" {\n        # copies the flow error object if not set\n    }\n}\n')),Object(a.b)("p",null,"Error objects are cloned from the above scope when no error message has been defined.\nThis allows for global error messages to be defined and shared across flows."))}p.isMDXComponent=!0},92:function(e,r,n){"use strict";n.d(r,"a",(function(){return d})),n.d(r,"b",(function(){return f}));var t=n(0),o=n.n(t);function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function i(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),p=function(e){var r=o.a.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):c(c({},r),e)),n},d=function(e){var r=p(e.components);return o.a.createElement(l.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return o.a.createElement(o.a.Fragment,{},r)}},b=o.a.forwardRef((function(e,r){var n=e.components,t=e.mdxType,a=e.originalType,s=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=p(n),b=t,f=d["".concat(s,".").concat(b)]||d[b]||u[b]||a;return n?o.a.createElement(f,c(c({ref:r},l),{},{components:n})):o.a.createElement(f,c({ref:r},l))}));function f(e,r){var n=arguments,t=r&&r.mdxType;if("string"==typeof e||t){var a=n.length,s=new Array(a);s[0]=b;var c={};for(var i in r)hasOwnProperty.call(r,i)&&(c[i]=r[i]);c.originalType=e,c.mdxType="string"==typeof e?e:t,s[1]=c;for(var l=2;l<a;l++)s[l]=n[l];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);